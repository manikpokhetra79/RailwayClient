{"version":3,"sources":["components/SeatsNumber.js","components/App.js","utils/urls.js","reportWebVitals.js","index.js"],"names":["SeatsNumber","seatsArray","loading","remSeats","handleDeleteAll","setUpdater","updater","ticketsLeft","Container","Button","className","variant","onClick","Spinner","animation","role","ListGroup","map","seat","index","Item","rowLetter","seatNumber","status","App","useState","seats","setSeats","setSeatsArray","coachArray","setCoachArray","setLoading","Row","Col","InputGroup","FormControl","type","name","placeholder","onChange","e","value","target","alert","fetch","method","body","JSON","stringify","headers","then","res","json","data","console","log","coach","catch","err","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dd36719c.chunk.js","sourcesContent":["import React from 'react';\nimport { Container, ListGroup, Spinner, Button } from 'react-bootstrap';\n\nconst SeatsNumber = ({\n  seatsArray,\n  loading,\n  remSeats,\n  handleDeleteAll,\n  setUpdater,\n  updater,\n}) => {\n  let ticketsLeft = remSeats;\n\n  let handleButtonClick = () => {\n    handleDeleteAll();\n    setUpdater(true);\n  };\n  return (\n    <>\n      {' '}\n      <Container >\n        <Button\n          className=\"mb-3 mt-5\"\n          variant=\"secondary\"\n          onClick={handleButtonClick}\n        >\n          Reset Tickets for Testing Purpose\n        </Button>\n      </Container>\n      <h2 className=\" text-center\">Booked Ticket Details</h2>\n      <h2>Remaining seats : {updater ? 80 : ticketsLeft}</h2>\n      {updater && <h2> Please refresh the page</h2>}\n      {/* {remSeats === 0 && (\n        <Button className=\"mb-3\" onClick={handleButtonClick}>\n          Reset Tickets for Testing Purpose\n        </Button>\n      )} */}\n      {loading ? (\n        <Spinner animation=\"border\" role=\"status\">\n          <span className=\"visually-hidden\">Loading...</span>\n        </Spinner>\n      ) : (\n        <Container>\n          <ListGroup>\n            {seatsArray &&\n              seatsArray.map((seat, index) => (\n                <ListGroup.Item key={index}>\n                  <p className=\"fs-6\">\n                    <span>Seat Number: </span>\n                    {seat.rowLetter + seat.seatNumber}\n                    <br /> <span>Status </span>\n                    <span className=\"badge bg-primary text-wrap text-capitalize \">\n                      {seat.status}\n                    </span>\n                  </p>\n                </ListGroup.Item>\n              ))}\n          </ListGroup>\n        </Container>\n      )}\n    </>\n  );\n};\n\nexport default SeatsNumber;\n","import React, { useState } from 'react';\nimport { bookingApi, deleteSeatsApi } from '../utils/urls';\nimport {\n  Container,\n  Row,\n  Col,\n  Button,\n  InputGroup,\n  FormControl,\n} from 'react-bootstrap';\nimport SeatsNumber from './SeatsNumber';\n\nconst App = () => {\n  const [seats, setSeats] = useState(0);\n  const [seatsArray, setSeatsArray] = useState([]);\n  const [coachArray, setCoachArray] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [updater, setUpdater] = useState(false);\n\n  let handleInputChange = (e) => {\n    let value = e.target.value;\n    setSeats(value);\n  };\n  let handleDeleteAll = () => {\n    fetch(deleteSeatsApi, {\n      method: 'DELETE',\n    }).catch((err) => console.log(err));\n    setSeatsArray([]);\n  };\n  let bookSeats = () => {\n    fetch(bookingApi, {\n      method: 'POST',\n      body: JSON.stringify({\n        seats: seats,\n      }),\n      headers: { 'Content-Type': 'application/json' },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        setCoachArray(data.coach);\n        if ((data.status = 'success')) {\n          setSeatsArray(data.seats);\n          // setTimeout(() => {\n          setLoading(false);\n          // }, 500);\n        }\n      })\n      .catch((err) => console.log(err));\n    setUpdater(false);\n  };\n  let handleSubmit = () => {\n    if (seats > 7 || seats < 1) {\n      alert('Please enter numbers from 1 - 7 only');\n    } else {\n      //fetch api\n      bookSeats();\n      setLoading(true);\n    }\n  };\n  return (\n    <>\n      {' '}\n      <Container>\n        <Row>\n          <Col>\n            {' '}\n            <ul className=\"mt-5\">\n              <h2>Notes </h2>\n              <li>Total Seats : 80</li>\n              <li>You can book only 1-7 input at one time</li>\n              <li>\n                Remaining seats will be shown once user has booked some tickets\n              </li>\n              <li>Output will be the Seat Number along with its Status</li>\n              <li>\n                You can reset tickets Database by clicking on{' '}\n                <b className=\"text-primary\">\n                  Reset Tickets for Testing Purpose{' '}\n                </b>\n                Button\n              </li>\n              <li>After resetting Database, please refresh the page.</li>\n            </ul>\n          </Col>\n          <Col>\n            <h1 className=\"text-primary mt-5 text-center\">\n              Railway Ticket Booking\n            </h1>\n            <InputGroup className=\"mb-3 mt-5\">\n              <FormControl\n                type=\"text\"\n                name=\"totalSeats\"\n                placeholder=\"No of seats 1-7\"\n                onChange={handleInputChange}\n              />\n              <Button onClick={handleSubmit}>Book Seats</Button>\n            </InputGroup>\n          </Col>\n        </Row>\n\n        <Row>\n          <SeatsNumber\n            seatsArray={seatsArray}\n            loading={loading}\n            remSeats={coachArray.remSeats}\n            handleDeleteAll={handleDeleteAll}\n            setUpdater={setUpdater}\n            updater={updater}\n          />\n        </Row>\n      </Container>\n    </>\n  );\n};\n\nexport default App;\n","export const bookingApi =\n  'https://ticket-reservation-api.herokuapp.com/api/seats/bookSeats';\nexport const deleteSeatsApi =\n  'https://ticket-reservation-api.herokuapp.com/api/seats/deleteall';\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './bootstrap.min.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}